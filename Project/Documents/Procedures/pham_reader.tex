\documentclass[a4paper,11pt]{report}

% General tools
\usepackage{etoolbox}

\usepackage[utf8]{inputenc}

% Fonts
\usepackage[T1]{fontenc}

% LaTeX modern fonts
\usepackage{lmodern}

% Sans serif
%\usepackage{tgheros}

% Serif
%\usepackage[bitstream-charter]{mathdesign}

% Monospace
%\usepackage{sourcecodepro}

% Language
\usepackage[english]{babel}
\usepackage{blindtext}

% Page style
\usepackage{fullpage} % page margins to 1.5cm
\usepackage{fancyhdr} % headers and footers

% Colors & graphics
\usepackage[table]{xcolor}    % colors
\usepackage[pdftex]{graphicx} % graphics importing

% Misc
\usepackage{titlesec} % section titles formatting
\usepackage{minted}   % code highlighting
\usepackage{lscape}   % landscape
\usepackage{tikz}     % charts in LaTeX
\usepackage{amsmath}  % better math
\usepackage{float}    % floats
\usepackage[small,justification=centering]{caption}
\usepackage{microtype} % typographic improvements

% Paragraphs
\usepackage{parskip}
\usepackage[defaultlines=3,all]{nowidow}

% Chapter titles
% Remove space before title
\titlespacing{\chapter}{0pt}{*-4}{*3}
% Remove "Chapter N" and use a sans-serif font
\titleformat{\chapter}[hang]{\bf\huge}{\thechapter}{1pc}{}
% Change chapter page style
\patchcmd{\chapter}{plain}{fancy}{}{}

% Tables
\usepackage{multirow}

% Cross-references
\usepackage{hyperref}


% Metadata for this report
% ------------------------
\newcommand{\School}{University of Applied Sciences Western Switzerland}
\newcommand{\Faculty}{MSE - Software Engineering}
\newcommand{\Place}{Lausanne}

% Course

\newcommand{\Title}{<Title>}

% Supervisors (professors)
\newcommand{\Supervisors}{Déruaz Vincent}

% Students
\newcommand{\Authors}{Déruaz Vincent}

%TOOLS
\newcommand{\todo}[1]{\textcolor{red}{TODO: #1}\PackageWarning{TODO:}{#1!}}

\newcommand{\Course}{Projet d'approfondissement}

% Header and footer
% -----------------
\pagestyle{fancy}
\lhead[]{\Course}
\chead[]{}
\rhead[]{\Place, \today}

\setlength{\headheight}{14pt}
\setlength{\headsep}{14pt}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

% Code styles for highlighting
% ----------------------------

% How to use (replace 'java' with language name):
% - code blocks:
%     \begin{javacode}
%     CODE
%     \end{javacode}
% - files:
%     full: \javafile{PATH}
%     extract: \javafile[startline=x, endline=y]{PATH}
% TODO: inline?

% Java
\newminted{java}{frame=single, framesep=6pt, breaklines=true, fontsize=\scriptsize}
\newmintedfile{java}{frame=single, framesep=6pt, breaklines=true, fontsize=\scriptsize}

% Scala
\newminted{scala}{frame=single, framesep=6pt, breaklines=true, fontsize=\scriptsize}
\newmintedfile{scala}{frame=single, framesep=6pt, breaklines=true, fontsize=\scriptsize}

% Python
\newminted{python}{frame=single, framesep=6pt, breaklines=true, fontsize=\scriptsize}
\newmintedfile{python}{frame=single, framesep=6pt, breaklines=true, fontsize=\scriptsize}

% Plain text
\newminted{text}{frame=single, framesep=6pt, breaklines=true, breakanywhere, fontsize=\scriptsize}
\newmintedfile{text}{frame=single, framesep=6pt, breaklines=true, breakanywhere, fontsize=\scriptsize}

% Document
% --------
\begin{document}

\begin{titlepage}
    \begin{center}

        % only works if a paragraph has started.
        \includegraphics[width=0.8\textwidth]{img/mse_logo}~\\[1.5cm]
        \textsc{\Large \School}\\[0.25cm]
        \textsc{\Large \Faculty}\\[1.5cm]

        % Title
        \HRule \\[0.4cm]
        { \huge \bfseries \Course \\[0.4cm] }
        \HRule \\[1.5cm]

        % Author and supervisor
        \begin{minipage}[t]{0.4\textwidth}
            \begin{flushleft} \Large
                \emph{Authors:}\\ \Authors
            \end{flushleft}
        \end{minipage}
        \begin{minipage}[t]{0.4\textwidth}
            \begin{flushright} \Large
                \emph{Supervisors:}\\\Supervisors
            \end{flushright}
        \end{minipage}~\\[1.5cm]

        \begin{center}
            \includegraphics[scale=0.7]{img/logo_hes-so}
        \end{center}

        \vfill

        % Bottom of the page
        {\large \Place, \today}

    \end{center}
\end{titlepage}

\tableofcontents




\chapter{Mise en place}
\chapter{Phamerator}
\chapter{Database migration}

\begin{flushleft}

Phamerator generate and populate a table, "pham", who describe the classification of genes in phamily. A phamily is a phamily of phages.

the "gene" table allow us to find wich gene is part of which phage. From this table we'ill use the translation field to make a alignement and distance sequence analysis.

First try is made with 113 phages, 12482 genes and 2771 phams.

\section{Completion of data}

In the "phage" table somme of the data are missing. In deed, the "HostStrain" field can be to None. We wanted to complete those data.

The "Accession" field, from gene table, allow us to get the phage id from GeneBank. 

\todo Script python ???
\begin{itemize}
	\item read sql --> get ids
	\item get missing informations
	\item write them on db
\end{itemize}

To do so, we need to get them from ...

We also wanted to know the HostSpecies. So, we modify the database to add a new field, "HostSpecies".

\todo Script Sql to modify db

\end{flushleft}



\chapter{Commands}
\begin{javacode}
	SELECT * FROM pham WHERE 1 GROUP BY name
\end{javacode}

\end{document}

